<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Loja Futebol Top - Com Menu Lateral</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" />

<!-- Estilo CSS -->
<style>
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    font-family: 'Montserrat', sans-serif;
    background: #f0f0f0;
  }

  /* Menu lateral fixo */
  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 280px;
    height: 100vh;
    background-color: #fff;
    padding: 20px;
    box-shadow: 2px 0 8px rgba(0,0,0,0.2);
    overflow-y: auto;
    box-sizing: border-box;
    z-index: 999;
  }

  /* Título do menu */
  .menu-title {
    font-weight: 600;
    font-size: 1.2em;
    margin-bottom: 15px;
    text-align: center;
    color: #333;
  }

  /* Lista do menu */
  .menu-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  /* Itens do menu */
  .menu-item {
    padding: 12px 15px;
    border-bottom: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: default;
    font-size: 1em;
  }

  .menu-item span {
    font-size: 1.2em;
    color: #999;
  }

  /* Conteúdo ao lado do menu */
  .content {
    margin-left: 280px;
    padding: 20px;
  }

  /* Cabeçalho fixo */
  .navbar {
    position: fixed;
    top: 0;
    left: 280px;
    right: 0;
    height: 80px;
    background-color: #2a9d8f;
    color: #fff;
    display: flex;
    align-items: center;
    padding: 0 20px;
    z-index: 998;
  }

  .navbar h1 {
    margin: 0;
    font-size: 1.8em;
  }

  /* Espaço para evitar sobreposição */
  .spacer {
    height: 80px;
  }

  /* Estilos do restante da página */
  section {
    margin-top: 20px;
  }

  /* Estilo dos botões */
button {
  cursor: pointer;
  font-family: 'Montserrat', sans-serif;
}

/* Modal de autenticação e carrinho (estilização básica) */
#auth-modal, #cart-modal {
  display: none;
  position: fixed;
  top:0; left:0; right:0; bottom:0;
  background: rgba(0,0,0,0.75);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}
#auth-modal > div, #cart-modal > div {
  background: #fff;
  padding: 20px;
  border-radius: 10px;
  max-width: 400px;
  width: 90%;
  position: relative;
}
#cart-modal > div {
  max-width: 600px;
}
#auth-close, #cart-close {
  position: absolute; top:10px; right:15px; font-size:1.5em; cursor:pointer;
}

/* Produtos grid */
.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px,1fr));
  gap: 20px;
}

/* Produto card */
.product-card {
  background: #fff;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.product-image {
  width: 100%;
  height: 200px;
  object-fit: cover;
}
.product-info {
  padding: 10px;
}
.product-name {
  font-weight: 600;
  margin-bottom: 8px;
}
.product-price {
  color: #e76f51;
  font-weight: 700;
  margin-bottom: 10px;
}
.buy-btn {
  background-color: #2a9d8f;
  color: #fff;
  border: none;
  padding: 10px;
  width: 100%;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 600;
}
.buy-btn:hover {
  background-color: #21867a;
}

footer {
  background-color: #222;
  color: #fff;
  padding: 20px;
  text-align: center;
  margin-top: 40px;
}
</style>
</head>
<body>

<!-- Menu lateral fixo -->
<div class="sidebar">
  <div class="menu-title">Navegação</div>
  <ul class="menu-list">
    <li class="menu-item">Página Inicial</li>
    <li class="menu-item">Entrega em 48 Horas <span>→</span></li>
    <li class="menu-item">Homem <span>→</span></li>
    <li class="menu-item">Mulher <span>→</span></li>
    <li class="menu-item">Kits de Criança <span>→</span></li>
    <li class="menu-item">Bebês <span>→</span></li>
    <li class="menu-item">Fatos de Treino <span>→</span></li>
    <li class="menu-item">Casacos & Corta-Ventos & Sweats <span>→</span></li>
    <li class="menu-item">Acessórios <span>→</span></li>
    <li class="menu-item">Bolas de Futebol <span>→</span></li>
    <li class="menu-item">Seguir a Minha Encomenda <span>→</span></li>
    <li class="menu-item">Feedbacks de Clientes <span>→</span></li>
  </ul>
</div>

<!-- Cabeçalho fixo -->
<div class="navbar">
  <h1>Loja Futebol Top</h1>
  <div id="auth-section" style="margin-left:auto;">
    <button id="loginBtn">Login / Registrar</button>
    <button id="cartBtn" style="margin-left:10px;">Carrinho</button>
  </div>
</div>

<!-- Espaço para evitar sobreposição do cabeçalho -->
<div class="spacer"></div>

<!-- Conteúdo principal -->
<div class="content" id="mainContent">
  <!-- Seção Produtos -->
  <section id="products">
    <h2 style="text-align:center; margin-bottom:30px;">Produtos de Futebol</h2>
    <div class="filters" style="display:flex; flex-wrap:wrap; justify-content:center; gap:15px; margin-bottom:30px;">
      <select id="categoryFilter" aria-label="Filtrar por categoria" title="Filtrar por categoria" style="padding:10px 15px; border-radius:8px; border:1px solid #ccc;">
        <option value="all">Todas as categorias</option>
        <option value="camisola">Camisolas</option>
        <option value="chuteira">Chuteiras</option>
        <option value="fato">Fatos de treino</option>
      </select>
      <select id="brandFilter" aria-label="Filtrar por marca" title="Filtrar por marca" style="padding:10px 15px; border-radius:8px; border:1px solid #ccc;">
        <option value="all">Todas as marcas</option>
        <option value="Nike">Nike</option>
        <option value="Adidas">Adidas</option>
        <option value="Puma">Puma</option>
      </select>
      <input type="text" id="searchInput" placeholder="Pesquisar..." aria-label="Pesquisar produtos" style="padding:10px 15px; border-radius:8px; border:1px solid #ccc; min-width:200px;">
    </div>
    <div class="products-grid" id="productsContainer"></div>
  </section>

  <!-- Sobre -->
  <section id="about" style="background:#e0e0e0; padding:80px 20px; margin-top:40px;">
    <h2 style="text-align:center; margin-bottom:20px;">Sobre Nós</h2>
    <p style="max-width:800px; margin:auto; font-size:1.1em; text-align:center;">
      Somos a loja líder em equipamentos de futebol, oferecendo camisolas, chuteiras, fatos de treino e acessórios de alta qualidade. Nosso objetivo é ajudar você a alcançar o seu melhor em campo!
    </p>
  </section>

  <!-- Contato -->
  <section id="contact" style="padding:80px 20px; margin-top:40px;">
    <h2 style="text-align:center; margin-bottom:20px;">Contato</h2>
    <p style="max-width:800px; margin:auto; font-size:1.1em; text-align:center;">
      Email: suporte@lojafutebol.com | Telefone: +351 912 345 678 | Endereço: Rua do Esporte, Lisboa
    </p>
  </section>
</div>

<!-- Rodapé -->
<footer>
  <p>© 2024 Loja Futebol Top. Todos os direitos reservados.</p>
</footer>

<!-- Modais -->
<!-- Modal Autenticação -->
<div id="auth-modal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.75); justify-content:center; align-items:center; z-index:9999;">
  <div>
    <div id="auth-close">×</div>
    <h3 id="auth-title" style="margin-top:0;">Login</h3>
    <input type="text" id="auth-username" placeholder="Nome de usuário" style="width:100%; padding:10px; margin-bottom:15px; border-radius:5px; border:1px solid #ccc;">
    <input type="password" id="auth-password" placeholder="Senha" style="width:100%; padding:10px; margin-bottom:15px; border-radius:5px; border:1px solid #ccc;">
    <button id="auth-submit" style="width:100%; padding:10px; background-color:#2a9d8f; color:#fff; border:none; border-radius:5px; font-size:1em;">Entrar</button>
    <p style="margin-top:15px; text-align:center;">Ainda não tem conta? <a href="#" id="switchAuth">Registrar-se</a></p>
  </div>
</div>

<!-- Modal Carrinho -->
<div id="cart-modal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.75); justify-content:center; align-items:center; z-index:9999;">
  <div>
    <div id="cart-close">×</div>
    <h3 style="margin-top:0;">Carrinho de Compras</h3>
    <div id="cart-items"></div>
    <button id="checkoutBtn" style="margin-top:15px; width:100%; padding:15px; background-color:#27ae60; color:#fff; border:none; border-radius:8px; font-size:1.2em;">Finalizar Compra</button>
  </div>
</div>

<!-- Scripts -->
<script>
  // Dados dos produtos
  const produtos = [
    { id: 1, nome: "Camisola Nike Match", categoria: "camisola", marca: "Nike", preco: 45, imagem: "https://images.unsplash.com/photo-1549924231-f129b911e442?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 2, nome: "Chuteira Adidas Predator", categoria: "chuteira", marca: "Adidas", preco: 120, imagem: "https://images.unsplash.com/photo-1607785055400-8d36fa4f6a2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 3, nome: "Fato Puma Treino", categoria: "fato", marca: "Puma", preco: 60, imagem: "https://images.unsplash.com/photo-1618706357483-7f8d3a6f0f05?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 4, nome: "Camisola Adidas Home", categoria: "camisola", marca: "Adidas", preco: 50, imagem: "https://images.unsplash.com/photo-1628076572753-8b3e2d682b75?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 5, nome: "Chuteira Nike Phantom", categoria: "chuteira", marca: "Nike", preco: 130, imagem: "https://images.unsplash.com/photo-1628390209642-2a6b0f6f2e1f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 6, nome: "Fato de Treino Puma", categoria: "fato", marca: "Puma", preco: 55, imagem: "https://images.unsplash.com/photo-1626541234567-1234567890ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 7, nome: "Camisola Nike Away", categoria: "camisola", marca: "Nike", preco: 48, imagem: "https://images.unsplash.com/photo-1549924231-f129b911e442?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 8, nome: "Chuteira Adidas Speed", categoria: "chuteira", marca: "Adidas", preco: 140, imagem: "https://images.unsplash.com/photo-1607785055400-8d36fa4f6a2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
  ];

  let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];

  const containerProdutos = document.getElementById('productsContainer');
  const filtroCategoria = document.getElementById('categoryFilter');
  const filtroMarca = document.getElementById('brandFilter');
  const buscaTexto = document.getElementById('searchInput');

  const authSection = document.getElementById('auth-section');

  // Modal elementos
  const authModal = document.getElementById('auth-modal');
  const authClose = document.getElementById('auth-close');
  const authTitle = document.getElementById('auth-title');
  const authUsername = document.getElementById('auth-username');
  const authPassword = document.getElementById('auth-password');
  const authButton = document.getElementById('auth-submit');
  const authSwitchLink = document.getElementById('switchAuth');

  const cartBtn = document.getElementById('cartBtn');
  const cartModal = document.getElementById('cart-modal');
  const cartClose = document.getElementById('cart-close');
  const cartItemsContainer = document.getElementById('cart-items');
  const checkoutBtn = document.getElementById('checkoutBtn');

  let modoAuth = true; // login ou registrar

  // Mostrar produtos filtrados
  function mostrarProdutos() {
    containerProdutos.innerHTML = '';
    const catFiltro = filtroCategoria.value;
    const marcaFiltro = filtroMarca.value;
    const termoBusca = buscaTexto.value.toLowerCase();

    const filtrados = produtos.filter(p =>
      (catFiltro === 'all' || p.categoria === catFiltro) &&
      (marcaFiltro === 'all' || p.marca === marcaFiltro) &&
      p.nome.toLowerCase().includes(termoBusca)
    );

    if (filtrados.length === 0) {
      containerProdutos.innerHTML = '<div style="grid-column:1/-1; text-align:center; padding:40px; font-size:1.3em; color:#555;">Nenhum produto encontrado.</div>';
      return;
    }

    filtrados.forEach(p => {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.innerHTML = `
        <img src="${p.imagem}" alt="${p.nome}" class="product-image"/>
        <div class="product-info">
          <div>
            <div class="product-name">${p.nome}</div>
            <div class="product-price">€${p.preco.toFixed(2)}</div>
          </div>
          <button class="buy-btn" onclick="adicionarAoCarrinho(${p.id})">Adicionar ao Carrinho</button>
        </div>
      `;
      containerProdutos.appendChild(card);
    });
  }

  // Eventos de filtros
  filtroCategoria.addEventListener('change', mostrarProdutos);
  filtroMarca.addEventListener('change', mostrarProdutos);
  buscaTexto.addEventListener('input', mostrarProdutos);

  // Verifica login ao carregar
  window.onload = () => {
    verificarLogin();
    mostrarProdutos();
  };

  // Verificar login
  function verificarLogin() {
    const usuario = localStorage.getItem('user');
    if (usuario) {
      authSection.innerHTML = `
        <span style="color:#fff; font-weight:600;">Olá, ${usuario}!</span>
        <button id="logoutBtn" style="margin-left:10px;">Logout</button>
      `;
      document.getElementById('logoutBtn').onclick = () => {
        localStorage.removeItem('user');
        verificarLogin();
      };
    } else {
      authSection.innerHTML = `<button id="loginBtn">Login / Registrar</button>`;
      document.getElementById('loginBtn').onclick = () => {
        mostrarModalAuth(true);
      };
    }
  }

  // Mostrar modal login/registro
  function mostrarModalAuth(isLogin) {
    modoAuth = isLogin;
    document.getElementById('auth-title').textContent = isLogin ? 'Login' : 'Registrar-se';
    document.getElementById('auth-username').value = '';
    document.getElementById('auth-password').value = '';

    authSwitchLink.innerHTML = isLogin ? 'Ainda não tem conta? <a href="#" id="switchAuth">Registrar-se</a>' : 'Já possui conta? <a href="#" id="switchAuth">Entrar</a>';

    document.getElementById('switchAuth').onclick = (e) => {
      e.preventDefault();
      alternarModoAuth();
    };

    authModal.style.display = 'flex';
  }

  // Fechar modal
  document.getElementById('auth-close').onclick = () => {
    authModal.style.display = 'none';
  };

  function alternarModoAuth() {
    mostrarModalAuth(!modoAuth);
  }

  // Processo de login/registro
  authButton.onclick = () => {
    const usuario = document.getElementById('auth-username').value.trim();
    const senha = document.getElementById('auth-password').value.trim();

    if (!usuario || !senha) {
      alert('Preencha todos os campos.');
      return;
    }

    let usuarios = JSON.parse(localStorage.getItem('usuarios')) || {};

    if (modoAuth) {
      // login
      if (usuarios[usuario] && usuarios[usuario] === senha) {
        localStorage.setItem('user', usuario);
        alert('Login bem-sucedido!');
        authModal.style.display = 'none';
        verificarLogin();
      } else {
        alert('Credenciais inválidas.');
      }
    } else {
      // registrar
      if (usuarios[usuario]) {
        alert('Este usuário já existe.');
      } else {
        if (senha.length < 6) {
          alert('A senha deve ter pelo menos 6 caracteres.');
          return;
        }
        usuarios[usuario] = senha;
        localStorage.setItem('usuarios', JSON.stringify(usuarios));
        alert('Conta criada! Faça login.');
        alternarModoAuth();
      }
    }
  };

  // Adicionar ao carrinho
  window.adicionarAoCarrinho = (id) => {
    const produto = produtos.find(p => p.id === id);
    if (produto) {
      carrinho.push(produto);
      localStorage.setItem('carrinho', JSON.stringify(carrinho));
      alert(`"${produto.nome}" adicionado ao carrinho!`);
    }
  };

  // Mostrar carrinho
function mostrarCarrinho() {
  cartItemsContainer.innerHTML = '';
  if (carrinho.length === 0) {
    cartItemsContainer.innerHTML = '<p style="text-align:center; padding:40px; font-size:1.3em; color:#555;">O carrinho está vazio.</p>';
  } else {
    carrinho.forEach((item, index) => {
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <img src="${item.imagem}" alt="${item.nome}" style="width:60px; height:auto; border-radius:4px;"/>
        <div style="flex:1; padding-left:10px;">
          <h4 style="margin:0;">${item.nome}</h4>
          <p style="margin:0; color:#e76f51;">€${item.preco.toFixed(2)}</p>
        </div>
        <button style="background:none; border:none; font-size:1.2em; cursor:pointer; color:#888;" onclick="removerDoCarrinho(${index})">×</button>
      `;
      cartItemsContainer.appendChild(div);
    });
  }
  document.getElementById('cart-modal').style.display = 'flex';
}

cartClose.onclick = () => {
  document.getElementById('cart-modal').style.display = 'none';
}

checkoutBtn.onclick = () => {
  if (carrinho.length === 0) {
    alert('Seu carrinho está vazio.');
    return;
  }
  alert('Compra finalizada! Obrigado.');
  carrinho = [];
  localStorage.removeItem('carrinho');
  mostrarCarrinho();
}

window.removerDoCarrinho = (index) => {
  carrinho.splice(index, 1);
  localStorage.setItem('carrinho', JSON.stringify(carrinho));
  mostrarCarrinho();
}

// Eventos do botão carrinho
cartBtn.onclick = () => {
  mostrarCarrinho();
};

// Filtros
document.getElementById('categoryFilter').addEventListener('change', mostrarProdutos);
document.getElementById('brandFilter').addEventListener('change', mostrarProdutos);
document.getElementById('searchInput').addEventListener('input', mostrarProdutos);

// Mostrar produtos ao carregar
window.onload = () => {
  verificarLogin();
  mostrarProdutos();
};

// Função para mostrar produtos filtrados
function mostrarProdutos() {
  const container = document.getElementById('productsContainer');
  container.innerHTML = '';
  const catFiltro = document.getElementById('categoryFilter').value;
  const marcaFiltro = document.getElementById('brandFilter').value;
  const termoBusca = document.getElementById('searchInput').value.toLowerCase();

  const filtrados = produtos.filter(p =>
    (catFiltro === 'all' || p.categoria === catFiltro) &&
    (marcaFiltro === 'all' || p.marca === marcaFiltro) &&
    p.nome.toLowerCase().includes(termoBusca)
  );

  if (filtrados.length === 0) {
    container.innerHTML = '<div style="grid-column:1/-1; text-align:center; padding:40px; font-size:1.3em; color:#555;">Nenhum produto encontrado.</div>';
    return;
  }

  filtrados.forEach(p => {
    const card = document.createElement('div');
    card.className = 'product-card';
    card.innerHTML = `
      <img src="${p.imagem}" alt="${p.nome}" class="product-image"/>
      <div class="product-info">
        <div>
          <div class="product-name">${p.nome}</div>
          <div class="product-price">€${p.preco.toFixed(2)}</div>
        </div>
        <button class="buy-btn" onclick="adicionarAoCarrinho(${p.id})">Adicionar ao Carrinho</button>
      </div>
    `;
    container.appendChild(card);
  });
}

// Função para verificar login
function verificarLogin() {
  const usuario = localStorage.getItem('user');
  const authSection = document.getElementById('auth-section');
  if (usuario) {
    authSection.innerHTML = `
      <span style="color:#fff; font-weight:600;">Olá, ${usuario}!</span>
      <button id="logoutBtn" style="margin-left:10px;">Logout</button>
    `;
    document.getElementById('logoutBtn').onclick = () => {
      localStorage.removeItem('user');
      verificarLogin();
    };
  } else {
    authSection.innerHTML = `<button id="loginBtn">Login / Registrar</button>`;
    document.getElementById('loginBtn').onclick = () => {
      mostrarModalAuth(true);
    };
  }
}

// Modal login/registro
function mostrarModalAuth(isLogin) {
  modoAuth = isLogin;
  document.getElementById('auth-title').textContent = isLogin ? 'Login' : 'Registrar-se';
  document.getElementById('auth-username').value = '';
  document.getElementById('auth-password').value = '';

  authSwitchLink.innerHTML = isLogin ? 'Ainda não tem conta? <a href="#" id="switchAuth">Registrar-se</a>' : 'Já possui conta? <a href="#" id="switchAuth">Entrar</a>';

  document.getElementById('switchAuth').onclick = (e) => {
    e.preventDefault();
    alternarModoAuth();
  };

  document.getElementById('auth-modal').style.display = 'flex';
}

// Fechar modal
document.getElementById('auth-close').onclick = () => {
  document.getElementById('auth-modal').style.display = 'none';
};

function alternarModoAuth() {
  mostrarModalAuth(!modoAuth);
}

// Processo de login/registro
document.getElementById('auth-submit').onclick = () => {
  const usuario = document.getElementById('auth-username').value.trim();
  const senha = document.getElementById('auth-password').value.trim();

  if (!usuario || !senha) {
    alert('Preencha todos os campos.');
    return;
  }

  let usuarios = JSON.parse(localStorage.getItem('usuarios')) || {};

  if (modoAuth) {
    // login
    if (usuarios[usuario] && usuarios[usuario] === senha) {
      localStorage.setItem('user', usuario);
      alert('Login bem-sucedido!');
      document.getElementById('auth-modal').style.display = 'none';
      verificarLogin();
    } else {
      alert('Credenciais inválidas.');
    }
  } else {
    // registrar
    if (usuarios[usuario]) {
      alert('Este usuário já existe.');
    } else {
      if (senha.length < 6) {
        alert('A senha deve ter pelo menos 6 caracteres.');
        return;
      }
      usuarios[usuario] = senha;
      localStorage.setItem('usuarios', JSON.stringify(usuarios));
      alert('Conta criada! Faça login.');
      alternarModoAuth();
    }
  }
};
</script>
</body>
</html>
