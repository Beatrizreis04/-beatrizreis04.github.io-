<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Loja Futebol Top - Com Menu Flutuante</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" />

<!-- Estilos CSS aprimorados -->
<style>
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    font-family: 'Montserrat', sans-serif;
    background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%);
    color: #333;
  }

  /* Menu lateral */
  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 250px;
    height: 100vh;
    background-color: #fff;
    padding: 20px 10px;
    box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    overflow-y: auto;
    z-index: 999;
    transition: transform 0.3s ease;
  }

  @media(max-width: 768px){
    .sidebar {
      position: fixed;
      transform: translateX(-250px);
    }
    .sidebar.active {
      transform: translateX(0);
    }
  }

  /* Botão para abrir o menu lateral em telas menores */
  #menuToggle {
    position: fixed;
    top: 15px;
    left: 15px;
    background-color: #ff416c;
    color: #fff;
    border: none;
    padding: 10px 15px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1em;
    z-index: 1001;
    display: none;
  }

  @media(max-width: 768px){
    #menuToggle {
      display: block;
    }
  }

  /* Itens do menu lateral */
  .menu-item {
    padding: 12px 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 16px;
    color: #333;
    cursor: pointer;
    border-radius: 4px;
    transition: background-color 0.2s;
    margin-bottom: 10px;
  }
  .menu-item:hover {
    background-color: #f9f9f9;
  }
  .icon {
    font-size: 14px;
    color: #999;
  }

  /* Conteúdo principal */
.main-content {
  margin-left: 250px;
  padding: 20px;
  transition: margin-left 0.3s ease;
}
@media(max-width: 768px){
  .main-content {
    margin-left: 0;
    padding-top: 60px;
  }
}

/* Estilo do botão flutuante ao carregar */
#floatingBtn {
  position: fixed;
  bottom: 20px;
  left: 20px;
  background-color: #ff416c;
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  font-size: 30px;
  color: #fff;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1002;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  transition: background-color 0.3s;
}
#floatingBtn:hover {
  background-color: #e63946;
}

/* Menu com opções ao clicar no botão flutuante */
#menuOptions {
  position: fixed;
  bottom: 90px; /* acima do botão */
  left: 20px;
  background-color: #fff;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  border-radius: 10px;
  overflow: hidden;
  display: none; /* escondido inicialmente */
  flex-direction: column;
  z-index: 1001;
  width: 200px;
}
#menuOptions.show {
  display: flex;
}

#menuOptions button {
  padding: 12px 20px;
  background: none;
  border: none;
  width: 100%;
  text-align: left;
  cursor: pointer;
  font-family: 'Montserrat', sans-serif;
  font-size: 1em;
  transition: background-color 0.2s;
}
#menuOptions button:hover {
  background-color: #f0f0f0;
}

/* Outros estilos (menu lateral, navbar, etc.) permanecem iguais do exemplo anterior */

footer {
  background-color: #222;
  color: #fff;
  padding: 30px 20px;
  margin-top: 60px;
  text-align: center;
}
footer a {
  color: #f4a261;
}
footer a:hover {
  text-decoration: underline;
}
</style>
</head>
<body>

<!-- Botão flutuante ao carregar -->
<button id="floatingBtn">☰</button>

<!-- Opções do menu ao clicar no botão -->
<div id="menuOptions">
  <button onclick="alert('Opção 1')">Opção 1</button>
  <button onclick="alert('Opção 2')">Opção 2</button>
  <button onclick="alert('Opção 3')">Opção 3</button>
  <button onclick="alert('Opção 4')">Opção 4</button>
</div>

<!-- Menu lateral -->
<div class="sidebar" id="sidebar">
  <div class="menu-item">Página Inicial <span class="icon">→</span></div>
  <div class="menu-item">Entrega em 48 Horas <span class="icon">→</span></div>
  <div class="menu-item">Homem <span class="icon">→</span></div>
  <div class="menu-item">Mulher <span class="icon">→</span></div>
  <div class="menu-item">Kits de Criança <span class="icon">→</span></div>
  <div class="menu-item">Bebês <span class="icon">→</span></div>
  <div class="menu-item">Fatos de Treino <span class="icon">→</span></div>
  <div class="menu-item">Casacos & Corta-Ventos & Sweats <span class="icon">→</span></div>
  <div class="menu-item">Acessórios <span class="icon">→</span></div>
  <div class="menu-item">Bolas de Futebol <span class="icon">→</span></div>
  <div class="menu-item">Seguir a Minha Encomenda <span class="icon">→</span></div>
  <div class="menu-item">Feedbacks de Clientes <span class="icon">→</span></div>
</div>

<!-- Menu fixo superior -->
<div class="navbar">
  <h1>Loja Futebol Top</h1>
  <div id="auth-section">
    <button id="loginBtn">Login / Registrar</button>
  </div>
</div>

<div class="spacer"></div>

<!-- Modal Autenticação -->
<div id="auth-modal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.75); justify-content:center; align-items:center; z-index:9999;">
  <div style="background:#fff; padding:20px; border-radius:10px; max-width:400px; width:90%; position:relative;">
    <div id="auth-close" style="position:absolute; top:10px; right:15px; font-size:1.5em; cursor:pointer;">×</div>
    <h3 id="auth-title" style="margin-top:0;">Login</h3>
    <input type="text" id="auth-username" placeholder="Nome de usuário" style="width:100%; padding:10px; margin-bottom:15px; border-radius:5px; border:1px solid #ccc;">
    <input type="password" id="auth-password" placeholder="Senha" style="width:100%; padding:10px; margin-bottom:15px; border-radius:5px; border:1px solid #ccc;">
    <button id="auth-submit" style="width:100%; padding:10px; background-color:#2a9d8f; color:#fff; border:none; border-radius:5px; font-size:1em; cursor:pointer;">Entrar</button>
    <p style="margin-top:15px; text-align:center;">Ainda não tem conta? <a href="#" id="switchAuth">Registrar-se</a></p>
  </div>
</div>

<!-- Modal Carrinho -->
<div id="cart-modal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.75); justify-content:center; align-items:center; z-index:9999;">
  <div style="background:#fff; padding:20px; border-radius:10px; max-width:600px; width:90%; position:relative; max-height:80%; overflow:auto;">
    <div id="cart-close" style="position:absolute; top:10px; right:15px; font-size:1.5em; cursor:pointer;">×</div>
    <h3 style="margin-top:0; text-align:center;">Carrinho de Compras</h3>
    <div id="cart-items"></div>
    <button id="checkoutBtn" style="margin-top:15px; width:100%; padding:15px; background-color:#27ae60; color:#fff; border:none; border-radius:8px; font-size:1.2em; cursor:pointer;">Finalizar Compra</button>
  </div>
</div>

<!-- Seção Produtos -->
<section id="products" style="padding-top:80px;">
  <h2 style="text-align:center; margin-bottom:30px;">Produtos de Futebol</h2>
  <div class="filters" style="display:flex; flex-wrap:wrap; justify-content:center; gap:15px; margin-bottom:30px;">
    <select id="categoryFilter" aria-label="Filtrar por categoria" title="Filtrar por categoria" style="padding:10px 15px; border-radius:8px; border:1px solid #ccc;">
      <option value="all">Todas as categorias</option>
      <option value="camisola">Camisolas</option>
      <option value="chuteira">Chuteiras</option>
      <option value="fato">Fatos de treino</option>
    </select>
    <select id="brandFilter" aria-label="Filtrar por marca" title="Filtrar por marca" style="padding:10px 15px; border-radius:8px; border:1px solid #ccc;">
      <option value="all">Todas as marcas</option>
      <option value="Nike">Nike</option>
      <option value="Adidas">Adidas</option>
      <option value="Puma">Puma</option>
    </select>
    <input type="text" id="searchInput" placeholder="Pesquisar..." aria-label="Pesquisar produtos" style="padding:10px 15px; border-radius:8px; border:1px solid #ccc; min-width:200px;">
  </div>
  <div class="products-grid" id="productsContainer" style="display:grid; grid-template-columns:repeat(auto-fit, minmax(250px,1fr)); gap:20px;"></div>
</section>

<!-- Sobre -->
<section id="about" style="background:#e0e0e0; padding:80px 20px;">
  <h2 style="text-align:center; margin-bottom:20px;">Sobre Nós</h2>
  <p style="max-width:800px; margin:auto; font-size:1.1em; text-align:center;">
    Somos a loja líder em equipamentos de futebol, oferecendo camisolas, chuteiras, fatos de treino e acessórios de alta qualidade. Nosso objetivo é ajudar você a alcançar o seu melhor em campo!
  </p>
</section>

<!-- Contato -->
<section id="contact" style="padding:80px 20px;">
  <h2 style="text-align:center; margin-bottom:20px;">Contato</h2>
  <p style="max-width:800px; margin:auto; font-size:1.1em; text-align:center;">
    Email: suporte@lojafutebol.com | Telefone: +351 912 345 678 | Endereço: Rua do Esporte, Lisboa
  </p>
</section>

<!-- Rodapé -->
<footer>
  <p>© 2024 Loja Futebol Top. Todos os direitos reservados.</p>
</footer>

<script>
  // Dados dos produtos
  const produtos = [
    { id: 1, nome: "Camisola Nike Match", categoria: "camisola", marca: "Nike", preco: 45, imagem: "https://images.unsplash.com/photo-1549924231-f129b911e442?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 2, nome: "Chuteira Adidas Predator", categoria: "chuteira", marca: "Adidas", preco: 120, imagem: "https://images.unsplash.com/photo-1607785055400-8d36fa4f6a2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 3, nome: "Fato Puma Treino", categoria: "fato", marca: "Puma", preco: 60, imagem: "https://images.unsplash.com/photo-1618706357483-7f8d3a6f0f05?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 4, nome: "Camisola Adidas Home", categoria: "camisola", marca: "Adidas", preco: 50, imagem: "https://images.unsplash.com/photo-1628076572753-8b3e2d682b75?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 5, nome: "Chuteira Nike Phantom", categoria: "chuteira", marca: "Nike", preco: 130, imagem: "https://images.unsplash.com/photo-1628390209642-2a6b0f6f2e1f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 6, nome: "Fato de Treino Puma", categoria: "fato", marca: "Puma", preco: 55, imagem: "https://images.unsplash.com/photo-1626541234567-1234567890ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 7, nome: "Camisola Nike Away", categoria: "camisola", marca: "Nike", preco: 48, imagem: "https://images.unsplash.com/photo-1549924231-f129b911e442?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
    { id: 8, nome: "Chuteira Adidas Speed", categoria: "chuteira", marca: "Adidas", preco: 140, imagem: "https://images.unsplash.com/photo-1607785055400-8d36fa4f6a2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" },
  ];

  let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];

  const containerProdutos = document.getElementById('productsContainer');
  const filtroCategoria = document.getElementById('categoryFilter');
  const filtroMarca = document.getElementById('brandFilter');
  const buscaTexto = document.getElementById('searchInput');

  const authSection = document.getElementById('auth-section');

  // Controle modal
  const authModal = document.getElementById('auth-modal');
  const authClose = document.getElementById('auth-close');
  const authTitle = document.getElementById('auth-title');
  const authUsername = document.getElementById('auth-username');
  const authPassword = document.getElementById('auth-password');
  const authButton = document.getElementById('auth-submit');
  const authSwitchLink = document.getElementById('switchAuth');

  let modoAuth = true; // true = login, false = registrar

  // Mostrar produtos filtrados
  function mostrarProdutos() {
    containerProdutos.innerHTML = '';
    const catFiltro = filtroCategoria.value;
    const marcaFiltro = filtroMarca.value;
    const termoBusca = buscaTexto.value.toLowerCase();

    const filtrados = produtos.filter(p =>
      (catFiltro === 'all' || p.categoria === catFiltro) &&
      (marcaFiltro === 'all' || p.marca === marcaFiltro) &&
      p.nome.toLowerCase().includes(termoBusca)
    );

    if (filtrados.length === 0) {
      containerProdutos.innerHTML = '<div style="grid-column:1/-1; text-align:center; padding:40px; font-size:1.3em; color:#555;">Nenhum produto encontrado.</div>';
      return;
    }

    filtrados.forEach(p => {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.innerHTML = `
        <img src="${p.imagem}" alt="${p.nome}" class="product-image"/>
        <div class="product-info">
          <div>
            <div class="product-name">${p.nome}</div>
            <div class="product-price">€${p.preco.toFixed(2)}</div>
          </div>
          <button class="buy-btn" onclick="adicionarAoCarrinho(${p.id})">Adicionar ao Carrinho</button>
        </div>
      `;
      containerProdutos.appendChild(card);
    });
  }

  // Eventos de filtros
  filtroCategoria.addEventListener('change', mostrarProdutos);
  filtroMarca.addEventListener('change', mostrarProdutos);
  buscaTexto.addEventListener('input', mostrarProdutos);

  // Verifica login ao carregar
  window.onload = () => {
    verificarLogin();
    mostrarProdutos();
  };

  // Função para verificar login
  function verificarLogin() {
    const usuario = localStorage.getItem('user');
    if (usuario) {
      authSection.innerHTML = `
        <span style="color:#fff; font-weight:600;">Olá, ${usuario}!</span>
        <button id="logoutBtn">Logout</button>
      `;
      document.getElementById('logoutBtn').onclick = () => {
        localStorage.removeItem('user');
        verificarLogin();
      };
    } else {
      authSection.innerHTML = `<button id="loginBtn">Login / Registrar</button>`;
      document.getElementById('loginBtn').onclick = () => {
        mostrarModalAuth(true);
      };
    }
  }

  // Mostrar modal login/registro
  function mostrarModalAuth(isLogin) {
    modoAuth = isLogin;
    document.getElementById('auth-title').textContent = isLogin ? 'Login' : 'Registrar-se';
    document.getElementById('auth-username').value = '';
    document.getElementById('auth-password').value = '';

    authSwitchLink.innerHTML = isLogin ? 'Ainda não tem conta? <a href="#" id="switchAuth">Registrar-se</a>' : 'Já possui conta? <a href="#" id="switchAuth">Entrar</a>';

    document.getElementById('switchAuth').onclick = (e) => {
      e.preventDefault();
      alternarModoAuth();
    };

    authModal.style.display = 'flex';
  }

  // Fechar modal
  document.getElementById('auth-close').onclick = () => {
    authModal.style.display = 'none';
  };

  function alternarModoAuth() {
    mostrarModalAuth(!modoAuth);
  }

  // Processo de login/registro
 document.getElementById('auth-submit').onclick = () => {
    const usuario = document.getElementById('auth-username').value.trim();
    const senha = document.getElementById('auth-password').value.trim();

    if (!usuario || !senha) {
      alert('Preencha todos os campos.');
      return;
    }

    let usuarios = JSON.parse(localStorage.getItem('usuarios')) || {};

    if (modoAuth) {
      // Login
      if (usuarios[usuario] && usuarios[usuario] === senha) {
        localStorage.setItem('user', usuario);
        alert('Login bem-sucedido!');
        authModal.style.display = 'none';
        verificarLogin();
      } else {
        alert('Credenciais inválidas.');
      }
    } else {
      // Registrar
      if (usuarios[usuario]) {
        alert('Este usuário já existe.');
      } else {
        if (senha.length < 6) {
          alert('A senha deve ter pelo menos 6 caracteres.');
          return;
        }
        usuarios[usuario] = senha;
        localStorage.setItem('usuarios', JSON.stringify(usuarios));
        alert('Conta criada! Faça login.');
        alternarModoAuth();
      }
    }
  };

  // Adicionar ao carrinho
  window.adicionarAoCarrinho = (id) => {
    const produto = produtos.find(p => p.id === id);
    if (produto) {
      carrinho.push(produto);
      localStorage.setItem('carrinho', JSON.stringify(carrinho));
      alert(`"${produto.nome}" adicionado ao carrinho!`);
    }
  };

  // Mostrar carrinho
  function mostrarCarrinho() {
    const container = document.getElementById('cart-items');
    container.innerHTML = '';
    if (carrinho.length === 0) {
      container.innerHTML = '<p style="text-align:center; padding:40px; font-size:1.3em; color:#555;">O carrinho está vazio.</p>';
    } else {
      carrinho.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <img src="${item.imagem}" alt="${item.nome}"/>
          <div class="cart-item-details">
            <h4>${item.nome}</h4>
            <p>€${item.preco.toFixed(2)}</p>
          </div>
          <button class="remove-btn" onclick="removerDoCarrinho(${index})">×</button>
        `;
        container.appendChild(div);
      });
    }
    document.getElementById('cart-modal').style.display = 'flex';
  }

  // Fechar carrinho
  document.getElementById('cart-close').onclick = () => {
    document.getElementById('cart-modal').style.display = 'none';
  }

  // Finalizar compra
  document.getElementById('checkoutBtn').onclick = () => {
    if (carrinho.length === 0) {
      alert('Seu carrinho está vazio.');
      return;
    }
    alert('Compra finalizada! Obrigado.');
    carrinho = [];
    localStorage.removeItem('carrinho');
    mostrarCarrinho();
  }

  // Remover item do carrinho
  window.removerDoCarrinho = (index) => {
    carrinho.splice(index, 1);
    localStorage.setItem('carrinho', JSON.stringify(carrinho));
    mostrarCarrinho();
  }

  // Evento clique no botão flutuante para mostrar/ocultar opções
  const floatingBtn = document.getElementById('floatingBtn');
  const menuOptions = document.getElementById('menuOptions');

  floatingBtn.onclick = () => {
    menuOptions.classList.toggle('show');
  };

  // Opcões do menu flutuante
  document.querySelectorAll('#menuOptions button').forEach(btn => {
    btn.onclick = () => {
      alert(`Você clicou em ${btn.textContent}`);
      menuOptions.classList.remove('show');
    };
  });

  // Controle do menu lateral em dispositivos móveis
  document.getElementById('menuToggle').onclick = () => {
    document.getElementById('sidebar').classList.toggle('active');
  };
</script>
</body>
</html>
